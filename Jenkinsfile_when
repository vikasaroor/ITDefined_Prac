pipeline{

agent any

options{
        buildDiscarder logRotator(numToKeepStr: '5')
    timeout (10)
}

parameters { 
    choice name:'Branch', description:'Select required Branch',choices:['main','master','Preprod','testing']
}

stages {

stage('CheckoutCode'){
    steps{
        git branch: "params.Branch", credentialsId: '', url: 'https://github.com/vikasaroor/delete.git'
    
}
}

stage('Stage2'){

    when {
        branch 'Prepod'
    }
    steps{ 
        sh '''echo Hello
              git remote -v
               
              ls -l
              git branch -a '''
}
}


stage('Stage3'){

    steps{ 
        echo 'Testing continitity'
}
}

}
}



